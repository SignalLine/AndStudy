var imk2Version="imk2-7.3.7";console.warn(">>> "+imk2Version);var isLoadedImk2=void 0!==window.imk2Handler;if(isLoadedImk2);else{var _headDom,_eyeDiv,_eyeUrL="https://sobeta.m.jd.com/imk2/js/componentInfo.js";location.href.indexOf("showxinfo")>-1&&(_headDom=document.querySelector("head"),(_eyeDiv=document.createElement("script")).src=_eyeUrL,_headDom.appendChild(_eyeDiv));var _pushIMK2Params={pushMsg:function(e,n){n||(n="xujinglong@jd.com");var t="https://sobeta.m.jd.com/openapp/email.action?_format_=json&content="+encodeURIComponent(e)+"&mailsTo="+n;(new Image).src=t,console.log(t)}};function CommmonLightLine(e){this.handler,this.dom,this.hypotenuse,this.lineWidth,this.base,this.skew,this.lineColor,this.intervalTime,this.time,this.timeCounter=0,this.bgImage,this.subDom,this.init=function(){var n,t;this.dom=document.querySelector(""+e.domId),n=this.dom.offsetWidth,t=this.dom.offsetHeight,this.hypotenuse=Math.round(Math.sqrt(n*n+t*t)),this.lineWidth=e.lineWidth?e.lineWidth:5,this.base=e.base?e.base:0,this.skew=e.skew?e.skew:"135deg",this.lineColor=e.lineColor?" "+e.lineColor+" ":" rgba(255, 255, 255, .3) ",this.intervalTime=e.intervalTime?e.intervalTime:5,this.time=e.time?e.time:"infinite",this.bgImage=e.bgImage?',url("'+e.bgImage+'")':"",this.dom.style.backgroundImage='url("'+e.bgImage+'")',this.subDom=document.createElement("div"),this.subDom.setAttribute("style","width: 100%; height: 100%;"),this.subDom.style.borderRadius=getComputedStyle(imk2Side,null).getPropertyValue("border-radius"),this.dom.appendChild(this.subDom)},this.play=function(){this.init();var e=this;this.handler=setInterval(function(){e.subDom.style.backgroundImage="linear-gradient("+e.skew+", transparent, transparent "+e.base+"px, "+e.lineColor+e.base+"px, "+e.lineColor+(e.base+e.lineWidth)+"px, transparent "+(e.base+e.lineWidth)+"px) ",e.base++,e.base>e.hypotenuse&&(e.base=0,e.timeCounter++),e.time<e.timeCounter&&clearInterval(e.handler)},this.intervalTime)}}function mCarouselNew(e){this.intervel=e.intervel?e.intervel:3e3,this.transitionTime=e.transitionTime?e.transitionTime:800,this.carouselHeight=e.carouselHeight?e.carouselHeight:45,this.circle,this.carousel,this.silders,this.sildersLen,this.currentIndex=0,this.handler,this._w,this.startPostionX=0,this.endPostionX=0,this.distance=0,this.stopCarousel=e.stopCarousel,mCarouselNew.prototype.init=function(){this.carousel=document.querySelector(e.warpperId+" .carousel"),this.silders=document.querySelectorAll(e.warpperId+" .carousel li"),this.circles=document.querySelectorAll(e.warpperId+" .m-carousel-circle li"),this._w=getComputedStyle(this.carousel.parentNode,null).width.replace("px",""),this.setCSS(),this.bindEvent()},mCarouselNew.prototype.setCSS=function(){this.sildersLen=this.silders.length;for(var e=0;e<this.sildersLen;e++)this.silders[e].style.width=this._w+"px",this.silders[e].style.left=e*this._w+"px";this.carousel.style.width=this.sildersLen*this._w+"px",this.carousel.parentNode.style.height=this.carouselHeight+"px"},mCarouselNew.prototype.turningPage=function(e){if(this.carousel.style.transition=this.transitionTime+"ms",this.carousel.style.transform="translate3d("+-this.currentIndex*this._w+"px, 0, 0)",this.silders[this.currentIndex%this.sildersLen].style.left=this.currentIndex*this._w+"px","--\x3e"==e)this.currentIndex==this.sildersLen-1||this.currentIndex%this.sildersLen==this.sildersLen-1?(this.circles[0].classList.remove("item-active"),this.circles[this.sildersLen-1].classList.add("item-active")):(this.circles[this.currentIndex%this.sildersLen+1].classList.remove("item-active"),this.circles[this.currentIndex%this.sildersLen].classList.add("item-active"));else{if(this.currentIndex%this.sildersLen==0)return this.circles[this.sildersLen-1].classList.remove("item-active"),void this.circles[0].classList.add("item-active");this.circles[this.currentIndex%this.sildersLen-1].classList.remove("item-active"),this.circles[this.currentIndex%this.sildersLen].classList.add("item-active")}},mCarouselNew.prototype.bindEvent=function(){if(this.stopCarousel)return!1;var e=this;this.carousel.addEventListener("touchstart",function(n){e.cancelPlay();var t=n.touches[0];e.startPostionX=t.clientX}),this.carousel.addEventListener("touchmove",function(n){e.carousel.style.transition="";var t=n.touches[0];e.endPostionX=t.clientX,this.distance=e.endPostionX-e.startPostionX;var o=-e.currentIndex*e._w+this.distance;0!=this.distance&&n.preventDefault(),0==e.currentIndex&&this.distance>0||(this.style.transform="translate3d("+o+"px, 0, 0)")}),this.carousel.addEventListener("touchend",function(n){var t=n.changedTouches[0].clientX-e.startPostionX;0==e.currentIndex&&t>0||(e.autoPlay(),t<0&&(e.currentIndex++,e.turningPage("<--")),t>0&&(e.currentIndex--,e.turningPage("--\x3e")))})},mCarouselNew.prototype.cancelPlay=function(){clearInterval(this.handler)},mCarouselNew.prototype.autoPlay=function(){var e=this;this.handler=setInterval(function(){e.currentIndex++,e.turningPage()},this.intervel)},mCarouselNew.prototype.resetCSS=function(){this.cancelPlay(),this._w=getComputedStyle(this.carousel.parentNode,null).width.replace("px",""),"100%"==this._w&&(this._w=document.documentElement.clientWidth,this._w>640&&(this._w="640")),this.silders[this.currentIndex%this.sildersLen].style.width=this._w+"px",this.silders[this.currentIndex%this.sildersLen].style.left=this.currentIndex*this._w+"px";for(var e=0;e<this.sildersLen;e++)this.silders[e].style.width=this._w+"px";this.carousel.style.transition="",this.carousel.style.transform="translate3d("+-this.currentIndex*this._w+"px, 0, 0)",this.silders[this.currentIndex%this.sildersLen].style.left=this.currentIndex*this._w+"px",this.sildersLen>1&&this.autoPlay()},mCarouselNew.prototype.monitorOrientation=function(){var e=this;window.addEventListener("orientationchange",function(){setTimeout(function(){e.resetCSS()},200)})},mCarouselNew.prototype.start=function(){this.init(),this.monitorOrientation(),this.stopCarousel||this.autoPlay()}}window.BadJSService=function(){var e;return e="https://wq.jd.com/webmonitor/collect/badjs.json?",{error:function(n,t){t&&n&&""!==t&&""!==n?(new Image).src=e+"Content="+encodeURIComponent(" [ "+new Date+" ] "+t)+"&referer="+encodeURIComponent(n)+"&t="+Math.random():console.warn("The request is rejected by BadJSService as either [kContent] or [kReferer] is null or empty.")}}}(),window.IMK2_COMMON_OPTION={imk2AppDownloadURL4Apple:"//st.360buyimg.com/common/downLoadCommon/downLoadAppIOSMPage.html",imk2AppDownloadURL:"//h5.m.jd.com/active/download/downLoadAppIOSMPage.html?channel=jd-m",imk2OpenAppType:0},window.imk2Handler=function(){var e,n,t=document.URL.toLowerCase(),o=(e=t,n=document.createElement("a"),n.href=e,{source:e,protocol:n.protocol.replace(":",""),host:n.hostname,port:n.port,query:n.search,params:function(){for(var e,t={},o=n.search.replace(/^\?/,"").split("&"),a=o.length,i=0;i<a;i++)o[i]&&(t[(e=o[i].split("="))[0]]=e[1]);return t}(),file:(n.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:n.hash.replace("#",""),path:n.pathname.replace(/^([^\/])/,"/$1"),relative:(n.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:n.pathname.replace(/^\//,"").split("/")}).params,a=o.ad_od,i=o.pc_source,r=null!=(f=navigator.userAgent).match(/Chrome/i)&&null==f.match(/Version\/\d+\.\d+(\.\d+)?\sChrome\//i),s=!!f.match(/(Android);?[\s\/]+([\d.]+)?/),l=!!f.match(/(iPad).*OS\s([\d_]+)/),p=!!f.match(/(Mac\sOS)\sX\s([\d_]+)/),c=!(l||!f.match(/(iPhone\sOS)\s([\d_]+)/)),d=(c||l)&&f.match(/Safari/),m=0,u=f.match(/(iPhone\sOS)\s([\d_]+)/),h=u&&u.length>2&&u[2].split("_").length>0?u[2].split("_")[0]:"";d&&(m=f.match(/Version\/([\d\.]+)/));try{m=parseFloat(m[1],10)}catch(e){}var f=window.navigator.userAgent,w=!1,g=(w=-1!=f.toUpperCase().indexOf("SAMSUNG-SM-N7508V"),"plugIn_downloadAppPlugIn_loadIframe"),v=!1,y={},A=null,C={},x=!(!window.Zepto&&!window.jQuery),k=[],_=(window.localStorage,Math.floor(100*Math.random())+1),b=!1,I=!1;-1!=f.indexOf("baiduboxapp")&&-1!=f.indexOf("light")&&(a&&(1==a||2==a||3==a)||i||(I=!0,b=!0));var P=!1,S=null,O={closeUaAjax:!1,keplerAjax:!1,configCenterAjax:!1},j={AROUSAL_APP:!0,DOWNLOAD_LAYER:!0,GENERAL_HEAD:!0,msf_type:"auto",cooldown_time:0,scheme_prame:"",use_universallinks:!0,appDownCloseIntervalTime:0,appDownOpenIntervalTime:0,downAppConfigData:null,isNewUser:!1,isOpenWechat:!0,sideDownAppConfigData:null,downAppUrl:"http://h5.m.jd.com/active/download/downLoadAppIOSMPage.html",mediaConfigData:null},D={mediaTimes:"mediaTimes",stepTime:"stepTime",firstAdChannelURL:"firstAdChannelURL"},L={keplerID:null,keplerFrom:1,keplerParamJson:null},T={isUniversalLinksUa:!1,isUniversalLinksOs:!1,isUseUniversalLinks:!1},U={login_State:!1,pcScan_Layer:null,newPeople_Layer:null},E={url:"//mapi.m.jd.com/config/display.action?_format_=json"+(location.href.indexOf("showSide=true")>-1||location.href.indexOf("showside=true")>-1?"&showside=true":"")+function(){var e,n,t;n=location.href,t=(e=n.indexOf("?"))>-1?"&"+n.substring(e+1,n.length):"";return t}(),method:"POST",async:!0,timeout:1400,withCredentials:!0,hasAjax:"configCenterAjax",hasAjaxSend:!1,error:function(){O.configCenterAjax=!0},success:function(e){O.configCenterAjax=!0;try{(function(e){if(e){if(e.data)for(var n=0;n<e.data.length;n++){var t=e.data[n];t.compent&&j.hasOwnProperty(t.compent)&&(j[t.compent]=t.display,"AROUSAL_APP"==t.compent&&t.msf_type&&(j.msf_type=t.msf_type,e.cooldown&&e.cooldown[t.msf_type]&&(j.cooldown_time=e.cooldown[t.msf_type]),t.openAppParam&&(j.scheme_prame=t.openAppParam),t.hasOwnProperty("isSpportUL")&&!t.isSpportUL&&(j.use_universallinks=!1)))}e.kepler&&(e.kepler.kepler_data&&e.kepler.kepler_data.keplerID&&e.kepler.kepler_data.keplerFrom&&(L.keplerID=e.kepler.kepler_data.keplerID,L.keplerFrom=e.kepler.kepler_data.keplerFrom),e.kepler.kepler_param&&(L.keplerParamJson=JSON.stringify(e.kepler.kepler_param))),e.isNewUser&&(j.isNewUser=!0),e.loginState&&(U.login_State=e.loginState),e.shieldingLayer&&(U.pcScan_Layer=e.shieldingLayer.pcScan_Layer||"",U.newPeople_Layer=e.shieldingLayer.newPeople_Layer||""),e.openSendOutUrl&&(P=e.openSendOutUrl),e.coolDownTimeUtil&&(S=e.coolDownTimeUtil),e.downAppConfigData&&(j.downAppConfigData=e.downAppConfigData),j.isOpenWechat=!!e.isOpenWechat,e.sideDownAppConfigData&&(j.sideDownAppConfigData=e.sideDownAppConfigData),e.downAppUrl&&(j.downAppUrl=e.downAppUrl),e.mediaConfigData&&(j.mediaConfigData=e.mediaConfigData),e.carouselDownAppConfigData&&(j.carouselDownAppConfigData=e.carouselDownAppConfigData),e.openAppParaFromUcc&&(j.openAppParaFromUcc=e.openAppParaFromUcc),e.downLoadPageSchema&&(j.downLoadPageSchema=e.downLoadPageSchema)}})(e=JSON.parse(e))}catch(e){BadJSService.error("https://imk2.jd.com/auto/open/app/configCenter/ajax/success/exception","configCenterAjaxPrame Exception："+e)}}},M={url:"//mapi.m.jd.com/config/closeUa.action?_format_=json",method:"POST",async:!0,timeout:1200,hasAjax:"closeUaAjax",hasAjaxSend:!1,error:function(){O.closeUaAjax=!0},success:function(e){O.closeUaAjax=!0;try{(e=JSON.parse(e))&&e.ua&&function(e){if(e){if(e&&e.clickCloseUa)for(var n=e.clickCloseUa.split("|"),t=0;t<n.length;t++){var o=n[t];if(o&&f.indexOf(o)>=0){b=!0;break}}if(e&&!b&&e.closeUaMoreKeys)for(var t=0;t<e.closeUaMoreKeys.length;t++){var r=e.closeUaMoreKeys[t];if(r&&r.uaMoreKeys){for(var p=r.uaMoreKeys.split("|"),d=0,m=0,u=0;u<p.length;u++){var w=p[u];w&&m++,w&&f.indexOf(w)>=0&&d++}b=m==d||b}if(b)break}if(e&&e.autoCloseBrowser)for(var t=0;t<e.autoCloseBrowser.length;t++){var w=e.autoCloseBrowser[t];if(w.browser&&w.abtest&&f.indexOf(w.browser)>=0){ae(w.abtest);break}}if(!I&&e&&e.autoCloseOs)for(var t=0;t<e.autoCloseOs.length;t++){var w=e.autoCloseOs[t];if("IOS"==w.os&&w.abtest&&(l||c)){ae(w.abtest);break}if("Android"==w.os&&w.abtest&&s){ae(w.abtest);break}}if(!I&&e&&e.autoCloseOsAndBrowser)for(var t=0;t<e.autoCloseOsAndBrowser.length;t++){var w=e.autoCloseOsAndBrowser[t];if(w.os&&w.browser&&w.abtest&&"IOS"==w.os&&(l||c)&&f.indexOf(w.browser)>=0){ae(w.abtest);break}if(w.os&&w.browser&&w.abtest&&"Android"==w.os&&s&&f.indexOf(w.browser)>=0){ae(w.abtest);break}}if(e&&e.universalLinksUa)for(var g=e.universalLinksUa.split("|"),t=0;t<g.length;t++){var o=g[t];if(o&&f.indexOf(o)>=0&&!s){T.isUniversalLinksUa=!0;break}}if(e&&e.universalLinksOs)for(var v=e.universalLinksOs.split("|"),t=0;t<v.length;t++){var o=v[t];if(o&&h&&o==h&&h>8){T.isUniversalLinksOs=!0;break}}e&&e.appDownCloseIntervalTime&&(j.appDownCloseIntervalTime=e.appDownCloseIntervalTime),e&&e.appDownOpenIntervalTime&&(j.appDownOpenIntervalTime=e.appDownOpenIntervalTime),-1!=f.indexOf("baiduboxapp")&&-1!=f.indexOf("light")&&(a&&(1==a||2==a||3==a)||i||(I=!0,b=!0))}}(e=JSON.parse(e.ua))}catch(e){BadJSService.error("https://imk2.jd.com/auto/open/app/closeUaAjaxPrame/ajax/success/exception","closeUaAjaxPrame Exception："+e)}}};function B(e,n,t){x?A("#"+e).bind(n,t):A("#"+e).addEventListener(n,t,!1)}function N(e){var n="",t=[],o=new RegExp("^"+e+"=","ig");if(document.cookie)for(var a=0,i=(t=document.cookie.split(";")).length;a<i;a++)if(o.test(t[a].trim())){n=t[a].split("=")[1];break}return n}function R(e,n,t,o,a){var i=e+"="+escape(n);if(""!=t){var r=new Date;r.setTime(r.getTime()+24*t*3600*1e3),i+=";expires="+r.toGMTString()}""!=o&&(i+=";path="+o),""!=a&&(i+=";domain="+a),document.cookie=i}function J(e,n){var t=null;if(t=n?{downAppURl:"//st.360buyimg.com/common/downLoadCommon/downLoadAppIOSMPage.html?channel=jd-m",downAppIos:"//st.360buyimg.com/common/downLoadCommon/downLoadAppIOSMPage.html",downWeixin:"http://a.app.qq.com/o/simple.jsp?pkgname=com.jingdong.app.mall&g_f=991850",downIpad:"https://itunes.apple.com/cn/app/jing-dong-hd/id434374726?mt=8",downAppIosPage:"//st.360buyimg.com/common/downLoadCommon/downLoadAppIOSMPage.html",inteneUrl:"openapp.jdmobile://virtual?",inteneUrlParams:null,sourceType:"JSHOP_SOURCE_TYPE",sourceValue:"JSHOP_SOURCE_VALUE",M_sourceFrom:"mxz",NoJumpDownLoadPage:!1,kepler_param:null,autoOpenAppEventId:"MDownLoadFloat_AppArouse",autoOpenAppEventParam:"",autoOpenIntervalTime:0,autoOpenAppCallback:null,autoOpenAppCallbackSource:null,cookieFlag:null,noJdApp:!1,universalLinksUrl:"https://linkst.m.jd.com"}:{downAppURl:"//st.360buyimg.com/common/downLoadCommon/downLoadAppIOSMPage.html?channel=jd-m",downAppIos:"//st.360buyimg.com/common/downLoadCommon/downLoadAppIOSMPage.html",downWeixin:"http://a.app.qq.com/o/simple.jsp?pkgname=com.jingdong.app.mall&g_f=991850",downIpad:"https://itunes.apple.com/cn/app/jing-dong-hd/id434374726?mt=8",downAppIosPage:"//st.360buyimg.com/common/downLoadCommon/downLoadAppIOSMPage.html",inteneUrl:"openapp.jdmobile://virtual?",inteneUrlParams:null,openAppBtnId:"",closePanelBtnId:"",closePanelId:"",openAppCallback:null,openAppCallbackSource:null,closeCallblack:null,closeCallblackSource:null,cookieFlag:null,sourceType:"JSHOP_SOURCE_TYPE",sourceValue:"JSHOP_SOURCE_VALUE",openAppEventId:"MDownLoadFloat_OpenNow",openAppEventParam:"",closePanelEventId:"MDownLoadFloat_Close",closePanelEventParam:"",appDownCloseIntervalTime:0,appDownOpenIntervalTime:0,noRecord:!1,isnotWriteOpenAppCookie:!1,M_sourceFrom:"mxz",msf_type:"click",NoJumpDownLoadPage:!1,kepler_param:null,noJdApp:!1,universalLinksUrl:"https://linkst.m.jd.com"},e)for(var o in e)if(o&&e[o]||"appDownCloseIntervalTime"==o&&0==e[o]||"appDownOpenIntervalTime"==o&&0==e[o]||"autoOpenIntervalTime"==o&&0==e[o])if("appDownCloseIntervalTime"==o||"appDownOpenIntervalTime"==o||"autoOpenIntervalTime"==o){if(/^(-     |\+)?\d+$/.test(e[o])&&e[o]>=0)try{var a=parseInt(e[o],10);t[o]=a}catch(e){BadJSService.error("https://imk2.jd.com/auto/open/app/convertOptions/intervalTime","ConvertOptions intervalTime："+e)}}else t[o]=e[o];return t}function F(e,n){var t=q(e),o=function(e){var n,t,o;if(l)return e.downIpad;if(e.downAppURl){var a=e.downAppURl.split("?");o=a[1]?a[1]:"channel=jd-m"}if(j.downLoadPageSchema){if("o"===(t=j.downLoadPageSchema))return"//st.360buyimg.com/common/downLoadCommon/downLoadAppIOSMPage.html?"+o;if("a"===t)return"//st.360buyimg.com/common/downLoadCommon/downLoadAppA.html?"+o;if("b"===t)return"//st.360buyimg.com/common/downLoadCommon/downLoadAppB.html?"+o}else n=c?e.downAppIos:e.downAppURl;return n}(e);if(function(e){if(e&&location.href.indexOf("showxintent")>-1){var n=le()?"自动唤起":"点击唤起";alert(n+" >>>"+e);try{_pushIMK2Params.pushMsg(e,null)}catch(e){alert(e)}}}(t=function(e){var n,t,o;if(j.openAppParaFromUcc){var a=j.openAppParaFromUcc,i=e.split("params="),r=JSON.parse(i[1]),s=function(e,n){var t={};for(var o in e)t[o]=e[o];for(var o in n)t[o]=n[o];return t}(r,a);e=i[0]+"params="+JSON.stringify(s)}n=ve(location.href),t={},"item.m.jd.com"==location.host&&(n.wjfrom&&(t.wjfrom=n.wjfrom),n.wjwxpubid&&(t.wjwxpubid=n.wjwxpubid),n.wjunionid&&(t.wjunionid=n.wjunionid),n.wjopenid&&(t.wjopenid=n.wjopenid),n.shareActivityId&&(t.shareActivityId=n.shareActivityId),n.shareRuleType&&(t.shareRuleType=n.shareRuleType),n.shareToken&&(t.shareToken=n.shareToken));"shop.m.jd.com"==location.host&&(n.shareActivityId&&(t.shareActivityId=n.shareActivityId),n.shareRuleType&&(t.shareRuleType=n.shareRuleType),n.shareToken&&(t.shareToken=n.shareToken));location.href.indexOf("ShareTm=")>-1&&n.ShareTm&&(t.ShareTm=n.ShareTm);location.href.indexOf("sharetm=")>-1&&n.sharetm&&(t.sharetm=n.sharetm);location.href.indexOf("shareTm=")>-1&&n.shareTm&&(t.shareTm=n.shareTm);"{}"!=(o=JSON.stringify(t))&&(e=e.replace("={","={"+o.substring(1,o.length-1)+","));return e}(t)),j.isOpenWechat&&navigator.userAgent.indexOf("MicroMessenger")>-1){var a=t.split("virtual?params=")[1];a=decodeURIComponent(a),a="virtual?params="+encodeURIComponent(a),new wxOpenApp(a)}else!function(){(r&&s||w)&&(t="intent://m.jd.com/#Intent;scheme="+t+";package=com.jingdong.app.mall;end",setTimeout(function(){window.location.href=t},50));if(d&&m>=9||p?setTimeout(function(){var e=document.createElement("a");e.setAttribute("href",t),e.style.display="none",document.body.appendChild(e);var n=document.createEvent("HTMLEvents");n.initEvent("click",!1,!1),e.dispatchEvent(n)},0):document.querySelector("#"+g).src=t,!e.NoJumpDownLoadPage){var n=Date.now();setTimeout(function(){setTimeout(function(){var e,t,a;e=n,t=o,a=Date.now(),e&&a-e<5e3&&(window.location.href=t)},1500)},100)}}()}function q(e,n){var t=[],o=e.inteneUrlParams,a={category:"jump",des:"HomePage"};if(e.sourceType&&e.sourceValue&&(a.sourceType=e.sourceType,a.sourceValue=e.sourceValue,!o||o.sourceType||o.sourceValue||(o.sourceType=e.sourceType,o.sourceValue=e.sourceValue)),e&&e.M_sourceFrom&&(n&&(e.M_sourceFrom=e.M_sourceFrom.indexOf("_UL")>=0?e.M_sourceFrom:e.M_sourceFrom+"_UL"),a.M_sourceFrom=e.M_sourceFrom,o&&(o.M_sourceFrom=e.M_sourceFrom)),o)for(var i in o)i&&o[i]&&("[object Object]"===Object.prototype.toString.call(o[i])?t.push('"'+i+'":'+JSON.stringify(o[i])):t.push('"'+i+'":"'+o[i]+'"'));else for(var i in a)i&&a[i]&&t.push('"'+i+'":"'+a[i]+'"');e&&e.msf_type&&t.push('"msf_type":"'+e.msf_type+'"'),L.keplerID&&(t.push('"keplerID":"'+encodeURIComponent(L.keplerID)+'"'),t.push('"keplerFrom":"'+L.keplerFrom+'"')),L.keplerParamJson&&t.push('"kepler_param":'+encodeURIComponent(L.keplerParamJson)),n&&(t.push('"NoJumpDownLoadPage":'+e.NoJumpDownLoadPage),t.push('"downAppIos":"'+encodeURIComponent(e.downAppIos)+'"'),t.push('"locationHref":"'+encodeURIComponent(window.location.href)+'"'));try{var r=MPing.EventSeries.getSeries();if(r){var s=JSON.parse(r);for(var i in s)i&&s[i]&&(s[i]="utr"==i||"umd"==i||"ucp"==i?encodeURIComponent(s[i]):s[i]);s.jdv=encodeURIComponent(N("__jdv")),s.unpl=encodeURIComponent(N("unpl")),s.mt_xid=encodeURIComponent(N("mt_xid")),s.mt_subsite=encodeURIComponent(N("mt_subsite"))}var l={mt_subsite:encodeURIComponent(N("mt_subsite")),__jdv:encodeURIComponent(N("__jdv")),unpl:encodeURIComponent(N("unpl")),__jda:encodeURIComponent(N("__jda"))};r=JSON.stringify(s),t.push('"m_param":'+r),t.push('"SE":'+JSON.stringify(l))}catch(e){t.push('"m_param":null'),BadJSService.error("https://imk2.jd.com/auto/open/app/getIntentUrl","getIntentUrl() Exception："+e)}var p="{"+t.join(",")+"}",c=e.inteneUrl.split("?"),d=null,m="";(j.scheme_prame&&(m="/"+j.scheme_prame),d=2==c.length&&c[1]?c[0]+m+"?"+c[1]+"&params="+p:c[0]+m+"?params="+p,P)&&V({url:"//ccc-x.jd.com/dsp/op?openapp_url="+encodeURI(p)+"&openapp_source_type=100",method:"GET",async:!0,timeout:1e3,error:function(){},success:function(e){}});return d}function H(e){e.openAppBtnId&&document.querySelector("#"+e.openAppBtnId)&&(y[e.openAppBtnId]=e,e&&e.M_sourceFrom&&"mxz"==e.M_sourceFrom&&(e.openAppEventParam?e.openAppEventParam=e.openAppEventParam+"_other_"+window.location.hostname:e.openAppEventParam="other_"+window.location.hostname),K(e.openAppBtnId,e.openAppEventId,e.openAppEventParam),B(e.openAppBtnId,"click",function(){se("0");var e=this.getAttribute("id"),n=y[e];if(!v){var t=document.createElement("iframe");t.id=g,document.body.appendChild(t),document.getElementById(g).style.display="none",document.getElementById(g).style.width="0px",document.getElementById(g).style.height="0px",v=!0}if(n.openAppCallback){var o=n.openAppCallbackSource?n.openAppCallbackSource:null;n.openAppCallback.call(this,o)}z(n,"appDownOpenIntervalTime"),ie(n),T.isUseUniversalLinks&&!n.noJdApp?function(e){var n=q(e,!0),t=e.universalLinksUrl+"/ul/ul.action?"+n;if(navigator.userAgent.indexOf("baidubrowser")>=0)window.location.href=t;else{var o=document.createElement("a");o.setAttribute("href",t),o.style.display="none",document.body.appendChild(o);var a=document.createEvent("HTMLEvents");a.initEvent("click",!1,!1),o.dispatchEvent(a)}}(n):F(n)}))}function W(e,n){if(e.closePanelBtnId&&e.closePanelId&&document.querySelector("#"+e.closePanelId)&&document.querySelector("#"+e.closePanelBtnId)){if(y[e.closePanelBtnId]=e,K(e.closePanelBtnId,e.closePanelEventId,e.closePanelEventParam),!n){if(X(e)){if(document.querySelector("#"+e.closePanelId).style.display="none",e.closeCallblack){var t=event||window.event,o=e.closeCallblackSource?e.closeCallblackSource:null;e.closeCallblack.call(this,o,t)}return}document.querySelector("#"+e.closePanelId).style.display="block"}B(e.closePanelBtnId,"click",function(){var e=this.getAttribute("id"),n=y[e];if(z(n,"appDownCloseIntervalTime"),document.querySelector("#"+n.closePanelId).style.display="none",n.closeCallblack){var t=event||window.event,o=n.closeCallblackSource?n.closeCallblackSource:null;n.closeCallblack.call(this,o,t)}})}}function z(e,n){var t=null;e.cookieFlag&&e[n]?t="downloadAppPlugIn_downCloseDate_"+e.cookieFlag:(t="downloadAppPlugIn_downCloseDate",e[n]=j[n]),!e.isnotWriteOpenAppCookie&&e[n]&&(document.domain.indexOf(".m.jd.com")<0&&"m.jd.com"!=document.domain?pe(t,e[n]):(R(t,Date.now()+"_"+e[n],60,"/",".m.jd.com"),R(t,Date.now()+"_"+e[n],60,"/","m.jd.hk")))}function X(e,n){var t=N(D.mediaTimes),o=N(D.stepTime);if(t&&o){var a=parseInt(t),i=parseInt(o);return!(a&&i&&a>0&i>0&&a%i==0)}var r=!1,s=null;if(n)s=j.msf_type&&"auto"==j.msf_type&&e.cookieFlag&&e.autoOpenIntervalTime?"autoOpenApp_downCloseDate_"+e.cookieFlag:"autoOpenApp_downCloseDate_"+j.msf_type,!I&&j.AROUSAL_APP||(r=!0);else{var l=f.indexOf("jdmsxh"),p=f.indexOf("jdmsxh2");(f.indexOf("Html5Plus")>=0||l>=0&&l!=p||b||!j.DOWNLOAD_LAYER)&&(r=!0),s=e.cookieFlag&&e.appDownCloseIntervalTime?"downloadAppPlugIn_downCloseDate_"+e.cookieFlag:"downloadAppPlugIn_downCloseDate"}var c=N(s);!c&&O.configCenterAjax&&document.domain.indexOf(".m.jd.com")<0&&"m.jd.com"!=document.domain&&S&&S.hasOwnProperty(s)&&(c=S[s]);var d=null;c&&(2==(d=c.split("_")).length?(d[0]=parseInt(d[0],10),d[1]=parseInt(d[1],10)):d=null);var m=Date.now();return!r&&!e.noRecord&&d&&2==d.length&&m-d[0]<d[1]&&(e.closePanelBtnId||n)&&(r=!0),r}function V(e){var n;try{n=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{n=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){n=new XMLHttpRequest}}if(n.ajaxRunError=!0,e.withCredentials)try{n.withCredentials=!0}catch(e){}"storage.360buyimg.com"===location.host&&location.href.indexOf("advertising")>-1&&(e.method="GET");try{n.open(e.method,e.url,e.async),n.onreadystatechange=function(){var t=e.source?e.source:null;if(4==n.readyState)if(200==n.status){n.ajaxRunError=!1;var o=n.responseText;e.success.call(t,o)}else e.error.call(t)},(c||l)&&navigator.userAgent.indexOf("QQBrowser")>-1?n.send("xxxxx=ccccc"):n.send(null)}catch(e){}}function K(e,n,t){try{var o=document.getElementById(e),a=o.className;a?a+=" J_ping":a="J_ping",o.className=a,o.setAttribute("report-eventid",n),t&&o.setAttribute("report-eventparam",t)}catch(e){}}function Y(e,n){try{var t=new MPing.inputs.Click(e);n&&(t.event_param=n),(new MPing).send(t)}catch(e){console.log("imk2 send ping error: %o ",e)}}function G(e,n,t){var o=n||1,a=!!t;if(!X(e)&&e.closePanelId){var i=document.getElementById(e.closePanelId);if(i){var r=i.getBoundingClientRect(),s=r.height||r.bottom-r.top,l=Q(i,"opacity"),p=Q(i,"display");p&&s&&"none"!=p&&0==s?a=!0:s&&l&&50==s&&0==l&&(a=!0)}else a=!0;o<3&&0==a&&(o++,setTimeout(function(){G(e,o,a)},2e3))}if(a)try{var c=new MPing.inputs.Click("MDownLoadFloat_FloatShield"),d=new MPing;c.event_param=e.openAppEventId,d.send(c);V({url:"//mapi.m.jd.com/config/checkShield.action?_format_=json",method:"POST",async:!0,timeout:1e3,error:function(){},success:function(e){}})}catch(e){BadJSService.error("https://imk2.jd.com/auto/open/app/checkShield","checkShield() Exception："+e)}}function Q(e,n){return e.currentStyle?e.currentStyle[n]:document.defaultView.getComputedStyle(e,!1)[n]}function Z(e,n){var t=!n&&X(e.funcPrame),o=!0;if(!t&&e&&"[object Array]"===Object.prototype.toString.apply(e.ajaxPrame)&&e.ajaxPrame.length>0){e.ajaxPrameIsArray=!0;for(var a=0;a<e.ajaxPrame.length;a++)O[e.ajaxPrame[a].hasAjax]||(o=!1,e.ajaxPrame[a].hasAjaxSend||(V(e.ajaxPrame[a]),e.ajaxPrame[a].hasAjaxSend=!0))}else t||O[e.ajaxPrame.hasAjax]||(o=!1,e.ajaxPrame.hasAjaxSend||(V(e.ajaxPrame),e.ajaxPrame.hasAjaxSend=!0));o?ee(e.funcList,e.funcPrame):function e(n,t){var o=t||0;var a=!0;if(n.ajaxPrameIsArray){for(var i=0;i<n.ajaxPrame.length;i++)if(!O[n.ajaxPrame[i].hasAjax]){a=!1;break}}else a=O[n.ajaxPrame.hasAjax];n.funcList&&n.funcList.length>0&&(a?ee(n.funcList,n.funcPrame):setTimeout(function(){++o<15?e(n,o):ee(n.funcList,n.funcPrame)},100))}(e)}function ee(e,n){if(1==e.length&&"[object Function]"===Object.prototype.toString.apply(e))e(n);else for(var t=0;t<e.length;t++)e[t](n)}function ne(){try{var e,n,t=navigator.userAgent;if(j.sideDownAppConfigData){if((e=j.sideDownAppConfigData).closeUa)for(var o=0,a=(n=e.closeUa.split("|")).length;o<a;o++)if(""!=n[o].trim()&&t.indexOf(n[o].trim())>-1)return;!function(e){var n,t,o=e.sideDownAppConfigData;try{if(o.jumpOpt&&(t=o.jumpOpt),!(n=document.getElementById("imk2Side"))){(n=document.createElement("div")).id="imk2Side","position: fixed;  z-index: 9999; background-repeat: no-repeat; -webkit-background-size: cover; background-size: cover; -webkit-box-shadow: rgb(0, 0, 0) 0px 0px 12px 0px; box-shadow: rgb(0, 0, 0) 0px 0px 12px 0px; -webkit-border-radius: 6PX; border-radius: 6PX; transform: scale(0); transition: 800ms cubic-bezier(.17,.67,.72,1.49);  transform-origin: center;",n.setAttribute("style","position: fixed;  z-index: 9999; background-repeat: no-repeat; -webkit-background-size: cover; background-size: cover; -webkit-box-shadow: rgb(0, 0, 0) 0px 0px 12px 0px; box-shadow: rgb(0, 0, 0) 0px 0px 12px 0px; -webkit-border-radius: 6PX; border-radius: 6PX; transform: scale(0); transition: 800ms cubic-bezier(.17,.67,.72,1.49);  transform-origin: center;"),n.style.right="calc("+o.positionX+" - "+o.width+" - 5px)",n.style.top=o.positionY,n.style.width=o.width,n.style.height=o.width,document.body.appendChild(n);var a={domId:"#imk2Side",lineWidth:5,base:0,skew:"135deg",lineColor:"rgba(255, 255, 255, .3)",intervalTime:17,time:"3",bgImage:o.iconUrl},i=new CommmonLightLine(a);i.play(),n.style.transform="scale(1)";var r=window.getComputedStyle(n,null).left;(r=r.replace("px",""))<=0&&(n.style.right=document.documentElement.clientWidth-n.offsetWidth-5+"PX")}(function(){this.addEventListener("touchmove",function(e){e.preventDefault(e),e.stopPropagation(),this.style.transition="";var n=e.changedTouches[0].clientX>=0&&e.changedTouches[0].clientX<document.documentElement.clientWidth-this.offsetWidth,t=e.changedTouches[0].clientY>=0&&e.changedTouches[0].clientY<document.documentElement.clientHeight-this.offsetHeight;(n||t)&&(this.style.right="auto",this.style.left=e.changedTouches[0].clientX+"px",this.style.top=e.changedTouches[0].clientY+"px")}),this.addEventListener("touchend",function(){var e=this.getBoundingClientRect().left+this.offsetWidth/2;document.documentElement.clientWidth/2>=e?this.style.left="5px":this.style.left=document.documentElement.clientWidth-this.offsetWidth-5+"px";var n=this.getBoundingClientRect(),t=document.documentElement.clientHeight-this.offsetHeight-5;n.top<=0?this.style.top="5px":n.top>=t&&(this.style.top=t+"px");var o=document.documentElement.clientWidth-this.offsetWidth-5;n.left<=0?this.style.left="5px":n.left>=o&&(this.style.left=o+"px"),this.style.transition="left 50ms ease-in"})}).apply(n,null);var s=te();$.downloadAppPlugIn({openAppBtnId:"imk2Side",inteneUrl:"openapp.jdmobile://virtual?",inteneUrlParams:s,msf_type:"click",downAppURl:"//st.360buyimg.com/common/downLoadCommon/downLoadAppIOSMPage.html?channel=jd-m&"+t,downAppIos:"//st.360buyimg.com/common/downLoadCommon/downLoadAppIOSMPage.html?"+t,downWeixin:"http://a.app.qq.com/o/simple.jsp?pkgname=com.jingdong.app.mall&g_f=991850"+t,downIpad:"https://itunes.apple.com/cn/app/jing-dong-hd/id434374726?mt=8"+t,downAppIosPage:"//st.360buyimg.com/common/downLoadCommon/downLoadAppIOSMPage.html?"+t}),o.pingData&&n&&n.addEventListener("click",function(){Y(o.pingData.eventId)})}catch(e){console.error(e)}}(j)}}catch(e){}}function te(){var e,n,t={};switch(location.host){case"shop.m.jd.com":t={category:"jump",des:"jshopMain",shopId:ve(location.href).shopId,sourceType:"showside",sourceValue:"true"};break;case"item.m.jd.com":e="",(n=location.pathname.split("/"))&&n.length>0&&(e=(e=n[n.length-1]).replace(".html","")),t={category:"jump",des:"productDetail",skuId:e,sourceType:"showside",sourceValue:"true"};break;case"h5.m.jd.com":t={action:"to",category:"jump",des:"getCoupon",url:encodeURIComponent("http://h5.m.jd.com/active/download/downLoadAppIOSMPage.html"),sourceType:"showside",sourceValue:"true"};break;case"pro.m.jd.com":t={category:"jump",des:"m",url:encodeURIComponent(location.href),sourceType:"showside",sourceValue:"true"};break;case"sale.jd.com":t={category:"jump",des:"DM",dmurl:location.href,sourceType:"showside",sourceValue:"true"};break;case"ms.m.jd.com":t={category:"jump",des:"seckill",sourceType:"showside",sourceValue:"true"};break;case"coupon.m.jd.com":t={category:"jump",des:"couponCenter",sourceType:"showside",sourceValue:"true"}}return t}function oe(e){if(!X(e,!0)){if(j.msf_type&&"auto"==j.msf_type&&e.cookieFlag&&e.autoOpenIntervalTime?cookieName="autoOpenApp_downCloseDate_"+e.cookieFlag:(cookieName="autoOpenApp_downCloseDate_"+j.msf_type,e.autoOpenIntervalTime=j.cooldown_time),e.autoOpenIntervalTime&&(document.domain.indexOf(".m.jd.com")<0&&"m.jd.com"!=document.domain?pe(cookieName,e.autoOpenIntervalTime):(R(cookieName,Date.now()+"_"+e.autoOpenIntervalTime,60,"/",".m.jd.com"),R(cookieName,Date.now()+"_"+e.autoOpenIntervalTime,60,"/","m.jd.hk"))),ie(e),e&&e.M_sourceFrom&&"mxz"==e.M_sourceFrom&&(e.autoOpenAppEventParam?e.autoOpenAppEventParam=e.autoOpenAppEventParam+"_other_"+window.location.hostname:e.autoOpenAppEventParam="other_"+window.location.hostname),Y(e.autoOpenAppEventId,e.autoOpenAppEventParam),e.msf_type=j.msf_type,e.autoOpenAppCallback){var n=e.autoOpenAppCallbackSource?e.autoOpenAppCallbackSource:null;e.autoOpenAppCallback.call(this,n)}F(e)}}function ae(e){e&&_<=e&&(I=!0)}function ie(e){e&&e.kepler_param&&(L.keplerParamJson=e.kepler_param),L.keplerParamJson&&Y("MDownLoadFloat_ArouseParam",L.keplerParamJson)}function re(e){T.isUniversalLinksOs&&T.isUniversalLinksUa&&!e.noJdApp&&e.universalLinksUrl&&j.use_universallinks&&(T.isUseUniversalLinks=!0)}function se(e){window.IMK2_COMMON_OPTION.imk2OpenAppType=e}function le(){return"1"==window.IMK2_COMMON_OPTION.imk2OpenAppType}function pe(e,n){try{var t=[];t.push('"'+e+'":"'+Date.now()+"_"+n+'"'),o={url:"//mapi.m.jd.com/cookie/addCookie.action?cookiePrame={"+t.join(",")+"}",callback:function(){}},a="MAuthentication",i=document.createElement("script"),r=function(){var e,n;(n=(e=i).parentNode)&&n.removeChild(e),delete window[a]},s=function(){r()},window[a]=function(e){o.callback.call(this,e),r()},i.onerror=function(){s()},i.onload=function(){s()},i.src=o.url+"&callbackName="+a,document.getElementsByTagName("head")[0].appendChild(i)}catch(e){BadJSService.error("https://imk2.jd.com/auto/open/app/addCookieByJsonp","addCookieByJsonp() Exception："+e)}var o,a,i,r,s}function ce(e){!function(){var e=document.getElementsByTagName("head");if(e&&e[0]){var n=document.createElement("style");n.innerHTML="\n             .carousel-wrapper{\n                width: 100%;\n                overflow: hidden;\n                position: relative;\n                height: 200px;\n                box-sizing: border-box;\n    \n            }\n            .carousel{\n                position: absolute;\n                z-index: 1;\n                left: 0;\n                top: 0;\n                padding: 0;\n                margin: 0;\n                height: 100%;\n                list-style: none;\n                box-sizing: border-box;\n    \n            }\n            .carousel li{\n                float: left;\n                position: absolute;\n                z-index: 1;\n                left: 0;\n                top: 0;\n                height: 100%;\n                box-sizing: border-box;\n    \n                /*border: 1px solid red;*/\n            }\n    \n            .m-carousel-item .m-carousel-item-col {\n                float: left;\n                width: 25%;\n                line-height: 45px;\n                height: 45px;\n                box-sizing: border-box;\n                text-align: center;\n                box-sizing: border-box;\n            }\n    \n            .carousel .m-carousel-item .m-carousel-item-col:nth-child(1){\n                width: 8%;\n            }\n            .carousel .m-carousel-item .m-carousel-item-col:nth-child(2){\n                width: 10%;\n            }\n            .carousel .m-carousel-item .m-carousel-item-col:nth-child(3) {\n                width: 57%;\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                font-size: 14px;\n            }\n            .carousel .m-carousel-item .m-carousel-item-col:nth-child(4){\n                width: 25%;\n                background-color: #F63515;\n                font-size: 14px;\n                color: #fff;\n                letter-spacing: 0;\n    \n            }\n    \n            .m-carousel-circle {\n                position: absolute;\n                bottom: 0;\n                left: 0;\n                z-index: 2;\n                padding: 0;\n                margin: 0;\n                list-style: none;\n                width: 100%;\n                background-color: transparent;\n                box-sizing: border-box;\n                padding: 3px 0;\n                text-align: center;\n                font-size: 0;\n                box-sizing: border-box;\n            }\n    \n            .m-carousel-circle .m-carousel-circle-item {\n                display: inline-block;\n                width: 3px;\n                height: 3px;\n                box-sizing: border-box;\n                border-radius: 50%;\n                margin: 0 3px;\n                box-sizing: border-box;\n            }\n    \n    \n    \n            .style-a .carousel li{\n                background-color: #333;\n                color: #fff;\n            }\n            .style-a .m-carousel-circle .m-carousel-circle-item{\n                background-color: #5C5C5C;\n            }\n            .style-a .m-carousel-circle .item-active{\n                background-color: #E5E5E5 !important;\n            }\n    \n    \n            .style-b .carousel li{\n                background-color: #fff;\n                color: #000;\n            }\n            .style-b .m-carousel-circle .m-carousel-circle-item{\n                background-color: #5C5C5C;\n            }\n            .style-b .m-carousel-circle .item-active{\n                background-color: #E5E5E5 !important;\n            }\n            .style-b .m-carousel-item .m-carousel-item-col:nth-child(4) {\n                width: 22%;\n                height: 30px;\n                line-height: 30px;\n                margin: 8px 1% 0 0;\n                border-radius: 5px;\n            }\n            ",e[0].appendChild(n)}}(),function(e){var n=[],t="a",o=[],a=0;if(j.carouselDownAppConfigData){t=1==j.carouselDownAppConfigData.styleScheme?"a":"b",a=(o=j.carouselDownAppConfigData.slides?j.carouselDownAppConfigData.slides:[]).length,n.push('<ul class="carousel">');for(var i=0;i<a;i++)n.push('    <li class="m-carousel-item imk2-slide">'),n.push('        <div class="m-carousel-item-col imk2-btn-close" id="m_common_tip_x_'+i+'" style="display: flex; align-items: center; justify-content: center;">'),n.push('            <img src="//m.360buyimg.com/mobilecms/jfs/t19480/10/1439571805/820/787bec2c/5ac9d730N04e6d766.png" alt="京东" style="width: 10px; vertical-align: middle;  margin-top: 0px">'),n.push("        </div>"),n.push('        <div class="m-carousel-item-col" style="display: flex;  align-items: center; justify-content: center;"> '),n.push('            <img src="'+o[i].appLogo+'" alt="京东" style="width: 30px; vertical-align: middle; margin-top: 0px;"/>'),n.push("        </div>"),n.push('        <div class="m-carousel-item-col" style="padding-top: 2px">'+o[i].ad+"</div>"),n.push('        <div class="m-carousel-item-col open-app-btn" style="padding-top: 2px" id="m_common_tip_trynow_'+i+'">'+o[i].openBtn.txt+"</div>"),n.push("    </li>");if(n.push("</ul>"),o&&o.length>1){n.push('<ul class="m-carousel-circle">');for(var r=0;r<a;r++)0==r?n.push('    <li class="m-carousel-circle-item item-active"></li>'):n.push('    <li class="m-carousel-circle-item"></li>');n.push("</ul>")}var s=document.getElementById(e.tipId),l=document.createElement("div");l.id=e.tipId+"_div",l.classList.add("carousel-wrapper"),l.innerHTML=n.join(" "),s.appendChild(l),s.classList.add("style-"+t)}}(e);var n=j.carouselDownAppConfigData.slides,t=!1;n&&1==n.length&&(t=!0),new mCarouselNew({warpperId:"#m_common_tip_div",intervel:3500,transitionTime:500,carouselHeight:45,stopCarousel:t}).start()}function de(e){if("m.jd.com"===location.host||"beta-m.m.jd.com"===location.host){var n=navigator.userAgent.indexOf("MQQBrowser")>-1||navigator.userAgent.indexOf("UCBrowser")>-1||navigator.userAgent.indexOf("MiuiBrowser")>-1,t=location.href.indexOf("utm_campaign=t_meizubrowser_meizubrowser")>-1;if(n||t)return""}var o,a,i;if(e&&(e.downloadAppPlugIn=e.downloadAppPlugIn?e.downloadAppPlugIn:{},e.downloadAppPlugIn.openAppBtnId=e.tipId+"_trynow",e.downloadAppPlugIn.closePanelBtnId=e.tipId+"_x",e.downloadAppPlugIn.closePanelId=e.tipId+"_div",!X(J(e.downloadAppPlugIn))))if(void 0===j.carouselDownAppConfigData){if("m.jd.com"==location.host)if(!document.querySelector('[href$="header.css"]')){var r=document.querySelector("head"),s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("href","//st.360buyimg.com/common/commonH_B/css/header.css"),r.appendChild(s)}var l=(a="",i={downloadAppContentBtn:"立即打开",downloadAppContentBtnStyle:"",downloadAppContentDown:"新人领188元红包",downloadAppContentDownStyle:"",downloadAppContentUP:"打开京东APP购物",downloadAppContentUpStyle:"",downloadAppImg:"//st.360buyimg.com/common/commonH_B/images/2015/download-bg.png",downloadApplogo:"//st.360buyimg.com/common/commonH_B/images/2015/top-jdlogo.png"},(o=e).downAppConfigData&&j.downAppConfigData&&j.downAppConfigData.hasOwnProperty("highPriority")&&!j.downAppConfigData.highPriority||o.downAppConfigData&&!j.downAppConfigData?(i.downloadAppContentBtn=o.downAppConfigData.downloadAppContentBtn||"立即打开",i.downloadAppContentBtnStyle=o.downAppConfigData.downloadAppContentBtnStyle||"",i.downloadAppContentDown=o.downAppConfigData.downloadAppContentDown||"新人领188元红包",i.downloadAppContentDownStyle=o.downAppConfigData.downloadAppContentDownStyle||"",i.downloadAppContentUP=o.downAppConfigData.downloadAppContentUP||"打开京东APP购物",i.downloadAppContentUpStyle=o.downAppConfigData.downloadAppContentUpStyle||"",i.downloadAppImg=o.downAppConfigData.downloadAppImg||"//st.360buyimg.com/common/commonH_B/images/2015/download-bg.png",i.downloadApplogo=o.downAppConfigData.downloadApplogo||"//st.360buyimg.com/common/commonH_B/images/2015/top-jdlogo.png"):j.downAppConfigData&&(i.downloadAppContentBtn=j.downAppConfigData.downloadAppContentBtn||"立即打开",i.downloadAppContentBtnStyle=j.downAppConfigData.downloadAppContentBtnStyle||"",i.downloadAppContentDown=j.downAppConfigData.downloadAppContentDown||"新人领188元红包",i.downloadAppContentDownStyle=j.downAppConfigData.downloadAppContentDownStyle||"",i.downloadAppContentUP=j.downAppConfigData.downloadAppContentUP||"打开京东APP购物",i.downloadAppContentUpStyle=j.downAppConfigData.downloadAppContentUpStyle||"",i.downloadAppImg=j.downAppConfigData.downloadAppImg||"//st.360buyimg.com/common/commonH_B/images/2015/download-bg.png",i.downloadApplogo=j.downAppConfigData.downloadApplogo||"//st.360buyimg.com/common/commonH_B/images/2015/top-jdlogo.png"),o.location&&(a=' style = "'+o.location+'"'),'\t<div  id="'+o.tipId+'_div" '+a+' class="download-pannel download-noBg">\t    <div class="pannel-bg"><img src="'+i.downloadAppImg+'"></div>\t    <div id="'+o.tipId+'_x" class="download-close"><img src="//st.360buyimg.com/common/commonH_B/images/2015/icon-close.png"></div>\t    <div class="download-logo"><img src="'+i.downloadApplogo+'"></div>\t    <div class="download-txt">\t            <span class="download-content">\t                <em style="'+i.downloadAppContentUpStyle+'" class="content-up">'+i.downloadAppContentUP+'</em>\t                <em style="'+i.downloadAppContentDownStyle+'" class="content-down">'+i.downloadAppContentDown+'</em>\t            </span>\t    </div>\t    <div id="'+o.tipId+'_trynow" class="download-action">\t        <span style="'+i.downloadAppContentBtnStyle+'" class="font-large">'+i.downloadAppContentBtn+"</span>\t    </div>\t</div>");if(document.getElementById(e.tipId).innerHTML=l,"m.jd.com"==location.host){var p=document.querySelector("#m_common_tip_div");p&&(p.style.height="50PX")}Y("MDownLoadFloat_TopOldExpo",location.host),B(e.tipId+"_x","click",function(){e.onClickTipX&&e.onClickTipX.call(this)}),B(e.tipId+"_trynow","click",function(){e.onClickTrynow&&e.onClickTrynow.call(this)}),e.callFunShowTip&&e.callFunShowTip.call(this);var c=e.downloadAppPlugIn.downAppURl,d=L.keplerParamJson;c=(c=c.indexOf("M_sourceFrom")>=0?c:c+"&M_sourceFrom="+e.downloadAppPlugIn.M_sourceFrom).indexOf("isneworold")<0&&j.isNewUser?c+"&isneworold=new":c,d&&d.source&&d.channel&&(c=(c=c.indexOf("kplsource")>=0?c:c+"&kplsource="+d.source).indexOf("kplchannel")>=0?c:c+"&kplchannel="+d.channel),e.downloadAppPlugIn.downAppURl=c,ue(e.downloadAppPlugIn)}else{ce(e),e.callFunShowTip&&e.callFunShowTip.call(this);var m=j.carouselDownAppConfigData.slides;Y("MDownLoadFloat_TopNewExpo",location.host+"_"+m.length);for(var u=document.querySelectorAll("#m_common_tip_div .imk2-btn-close"),h=document.querySelectorAll("#m_common_tip_div .open-app-btn"),f=u.length,w=0;w<f;w++)B(e.tipId+"_x_"+w,"click",function(){e.onClickTipX&&e.onClickTipX.call(this)}),u[w].addEventListener("click",function(n){j.isnotWriteOpenAppCookie=!1,z(j,"cooldown_time"),document.querySelector("#"+e.tipId+"_div").style.display="none",Y("MDownLoadFloat_Close")}),B(e.tipId+"_trynow_"+w,"click",function(){e.onClickTrynow&&e.onClickTrynow.call(this)}),e.downloadAppPlugIn.openAppBtnId=e.tipId+"_trynow_"+w,ue(e.downloadAppPlugIn),m[w].openBtn.pingData.eventId&&h[w].setAttribute("report-eventid",m[w].openBtn.pingData.eventId),m[w].openBtn.pingData.eventParas&&h[w].setAttribute("report-eventparam",m[w].openBtn.pingData.eventParas),m[w].openBtn.pingData.eventLevel&&h[w].setAttribute("report-eventlevel",m[w].openBtn.pingData.eventLevel)}}function me(e,n){location.href.indexOf("showxintent=")>-1&&(alert("唤起类型："+e+", 唤起参数："+JSON.stringify(n)),_pushIMK2Params.pushMsg(JSON.stringify(n),null))}function ue(e){e.msf_type,e.msf_type="click",me("click",e);var n=J(e);H(n),Z({ajaxPrame:[M,E],funcList:[re,W,G],funcPrame:n})}function he(e,n,t,o,a){try{var i=e+"="+escape(n);if(""!=t){var r=new Date;r.setTime(r.getTime()+1e3*t),i+=";expires="+r.toGMTString()}""!=o&&(i+=";path="+o),""!=a&&(i+=";domain="+a),document.cookie=i}catch(e){}}function fe(){var e=N(D.mediaTimes),n=N(D.stepTime),t=parseInt(e),o=parseInt(n);if(t&&o&&t>0&o>0&&t%o==0){var a=te();$.downloadAppPlugInOpenApp({inteneUrlParams:a})}}function we(){var e=document.createElement("div");e.setAttribute("id","_aDChannelMark"),e.style.position="fixed",e.style.zIndex=1e5,e.style.width="1px",e.style.height="1px",e.style.backgroundColor="rgba(0, 0, 255 , .5)",e.style.left="2px",e.style.bottom="2px",document.body.appendChild(e)}function ge(){var e,n,t=j.mediaConfigData&&j.mediaConfigData.stepTimesLifeTime?j.mediaConfigData.stepTimesLifeTime:3600;try{var o=function(e){var n={},t=e.split("?")[1];if(t)for(var o=t.split("&"),a=0;a<o.length;a++){var i=o[a].split("=");n[i[0].toLocaleLowerCase()]=i[1]}return n}(location.href);if(o.ad_od&&"0"==o.ad_od&&o.steptime)if(e=N(D.firstAdChannelURL))if(unescape(e)==location.href){var a=N(D.mediaTimes);he(D.mediaTimes,parseInt(a)+1,t,"/",".jd.com"),he(D.stepTime,o.steptime,t,"/",".jd.com"),we(),fe()}else he(D.firstAdChannelURL,location.href,t,"/",".jd.com"),he(D.mediaTimes,1,t,"/",".jd.com"),he(D.stepTime,o.steptime,t,"/",".jd.com"),we();else he(D.firstAdChannelURL,location.href,t,"/",".jd.com"),he(D.mediaTimes,1,t,"/",".jd.com"),he(D.stepTime,o.steptime,t,"/",".jd.com"),we();else{a=N(D.mediaTimes);var i=N(D.stepTime);a&&i?(he(D.mediaTimes,parseInt(a)+1,t,"/",".jd.com"),he(D.stepTime,i,t,"/",".jd.com"),we(),fe()):(n=document.getElementById("_aDChannelMark"))&&n.remove()}}catch(e){console.error(e)}}function ve(e){var n={},t=e.split("?")[1];if(t)for(var o=t.split("&"),a=0;a<o.length;a++){var i=o[a].split("=");n[i[0]]=i[1]}return n}return x?(A=window.$,C=window.$):(A=function(e){return"object"==typeof e?e:document.querySelector(e)},window.$?C=window.$:window.$=C=A),window.onblur=function(){for(var e=0;e<k.length;e++)clearTimeout(k[e])},C.isAutoOpenJDApp=le,C.downloadAppPlugIn=ue,C.downloadAppPlugInOpenApp=function(e){se("1"),me("auto",e),e.msf_type,e.msf_type="auto";var n=J(e,!0);if(!v){var t=document.createElement("iframe");t.id=g,document.body.appendChild(t),document.getElementById(g).style.display="none",document.getElementById(g).style.width="0px",document.getElementById(g).style.height="0px",v=!0}Z({ajaxPrame:[M,E],funcList:oe,funcPrame:n},!0)},C.downloadAppLayerConfigData=function(e){Z({ajaxPrame:[M,E],funcList:[de],funcPrame:e})},{immediateExecutionFun:function(e){Z({ajaxPrame:[E],funcList:[ne,ge],funcPrame:{}},!0)}}}(),window.imk2Handler.immediateExecutionFun(),function(e,n){var t,o,a=(t=e,(o=function(e,n){this.init(e,n)}).prototype={init:function(e,n){this.cb=n,this.param=e,this.scheme="openapp.jdmobile",this.appId="wxe75a2e68877315fb",this.packageName="com.jingdong.app.mall",this.packageUrl="openApp.jdMobile://",this.configUrl="//wq.jd.com/bases/jssdk/GetWxJsApiSign?url="+encodeURIComponent(location.href.split("#")[0])+"&callback=callback",this.loadWxJsSdk()},loadWxJsSdk:function(){var e=this,n="//res.wx.qq.com/open/js/jweixin-1.2.0.js";if("function"==typeof define&&(define.amd||define.cmd))try{require([n],function(n){t.wx=n,e.requestConfig()})}catch(e){BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/jweixin/load","amd or cmd load -- wxJsSdk( "+n+" ) load fail!!! , e = "+e+" CurrentURL = "+location.href)}else{var o=document.createElement("script");o.src=n,document.body.appendChild(o),o.onload=o.onreadystatechange=function(){if(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState){if("undefined"==typeof wx)return console.error("wxJsSdk( "+n+" ) load fail!"),void BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/jweixin/load","script tag load ---  wxJsSdk( "+n+" ) load fail!!! CurrentURL = "+location.href);e.requestConfig(),o.onload=o.onreadystatechange=null}}}},requestConfig:function(){var e=this;e.JSONP(e.configUrl,function(n){e.openApp(n)})},openApp:function(e){var n=this;wx.config({beta:!0,debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["checkJsApi","getInstallState","launchApplication"]}),wx.ready(function(){wx.checkJsApi({jsApiList:["getInstallState","launchApplication"],success:function(e){e.checkResult.getInstallState&&e.checkResult.launchApplication?wx.invoke("getInstallState",{packageName:n.packageName,packageUrl:n.packageUrl},function(e){e.err_msg&&e.err_msg.indexOf("get_install_state:yes")>-1?wx.invoke("launchApplication",{appID:n.scheme,parameter:n.param},function(e){e?e.err_msg&&e.err_msg.indexOf("fail")>-1&&(BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/invoke/result","wechat launchApplication method：falil!  res = "+JSON.stringify(e)+"。 res = "+JSON.stringify(e)+" ,   CurrentURL = "+location.href),$.isAutoOpenJDApp()||setTimeout(function(){navigator.userAgent.match(/(Android);?[\s\/]+([\d.]+)?/)?location.href=t.IMK2_COMMON_OPTION.imk2AppDownloadURL:location.href=t.IMK2_COMMON_OPTION.imk2AppDownloadURL4Apple},200)):BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/invoke/result","wechat launchApplication method ：Exception! res = "+JSON.stringify(e)+" ,   CurrentURL = "+location.href)}):e.err_msg&&e.err_msg.indexOf("get_install_state:no")>-1?(BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/invoke/result","wechat getInstallState method res.err_msg ："+e.err_msg+"  ,   CurrentURL = "+location.href),$.isAutoOpenJDApp()||setTimeout(function(){navigator.userAgent.match(/(Android);?[\s\/]+([\d.]+)?/)?location.href=t.IMK2_COMMON_OPTION.imk2AppDownloadURL:location.href=t.IMK2_COMMON_OPTION.imk2AppDownloadURL4Apple},200)):e.err_msg&&e.err_msg.indexOf("missing auguments")>-1?BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/invoke/result","wechat getInstallState method  res.err_msg ："+e.err_msg+"  ,   CurrentURL = "+location.href):BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/invoke/result","wechat getInstallState method res.err_msg ："+e.err_msg+"  ,   CurrentURL = "+location.href)}):"function"==typeof this.cb&&this.cb()}})})},JSONP:function(e,n){var o=function(){return(new Date).getTime()};!function(e,n){var a,i=/callback=(\w+)/.exec(e);i&&i[1]?a=i[1]:(a="jsonp_"+o()+"_"+Math.random().toString().substr(2),e=(e=e.replace("callback=?","callback="+a)).replace("callback=%3F","callback="+a));var r=document.createElement("script");r.type="text/javascript",r.src=e,r.id="id_"+a,t[a]=function(e){t[a]=void 0;var o,i,r=document.getElementById("id_"+a);(i=(o=r).parentNode)&&11!==i.nodeType&&i.removeChild(o),n(e)};var s=document.getElementsByTagName("head");s&&s[0]&&s[0].appendChild(r)}(e,n)}},o);e.wxOpenApp=a,"object"==typeof module&&module.exports&&(module.exports=a)}(window)}